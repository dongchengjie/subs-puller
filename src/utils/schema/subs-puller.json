{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://github.com/dongchengjie/subs-puller/config.schema.json",
  "title": "subs-puller",
  "description": "YAML subs-puller",
  "type": "object",
  "properties": {
    "data": {
      "type": "array",
      "items": {
        "type": "object",
        "definitions": {
          "protocol": {
            "type": "string",
            "enum": ["clash", "v2ray"],
            "errorMessage": "must be equal to one of the allowed values: [clash, v2ray]"
          }
        },
        "properties": {
          "id": {
            "type": "string",
            "minLength": 1
          },
          "source": {
            "description": "type of source files",
            "$ref": "#/properties/data/items/definitions/protocol"
          },
          "target": {
            "description": "type of target files",
            "$ref": "#/properties/data/items/definitions/protocol"
          },
          "urls": {
            "type": "array",
            "items": {
              "type": "string",
              "minLength": 1,
              "pattern": "^http[s]?://.*$",
              "errorMessage": "must be an http or https link"
            }
          },
          "timeout": {
            "description": "http request timeout",
            "type": "number"
          },
          "headers": {
            "description": "http request header",
            "type": "object",
            "additionalProperties": true
          },
          "output": {
            "description": "path to save output files",
            "type": "string",
            "minLength": 1
          },
          "encoder": {
            "description": "file output encoder",
            "type": "string",
            "enum": ["base64"],
            "errorMessage": "must be equal to one of the allowed values: [base64]"
          }
        },
        "required": ["id", "source", "urls", "output"],
        "additionalProperties": false
      }
    }
  },
  "required": ["data"],
  "additionalProperties": false
}
